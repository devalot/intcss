body > header {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: baseline;
}

body > header > * {
  flex: 0 0 auto;
  padding: 0.5em;
}

body > header ul {display: flex;}

body > header li {
  flex: 0 0 auto;
  margin-right: 0.5em;
}

.container {
  display: flex;
  flex-wrap: wrap;
}

.sidebar { flex: 1 0 100px; }
main     { flex: 2 0 200px; }

@media (max-width: 400px) {
  body > header {
    align-content: center;
  }

  .container { flex-direction: column; }
  .main { order: 1; }
  .sidebar.primary { order: 2; }
  .sidebar.secondary { display: none ; }
}
